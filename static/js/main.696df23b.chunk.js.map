{"version":3,"sources":["Components/PhonebookForm/PhonebookForm.module.css","Components/Filter/Filter.module.css","redux/contacts/contactsSlice.js","redux/contacts/contacts-actions.js","redux/contacts/contacts-reducer.js","redux/store.js","Components/PhonebookForm/PhonebookForm.js","redux/contacts/contacts-selectors.js","Components/ContactItem/ContactItem.js","Components/ContactsList/ContactsList.js","Components/Filter/Filter.js","App.js","index.js"],"names":["module","exports","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","newContact","url","method","body","invalidatesTags","deleteContact","contactId","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","changeFilter","createAction","filter","createReducer","_","payload","combineReducers","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","setupListeners","dispatch","PhonebookForm","useState","name","setName","phone","setPhone","data","isLoading","handleChange","e","target","value","resetForm","onSubmit","preventDefault","normalizedContact","toLowerCase","some","item","toast","error","success","className","s","label","input","type","pattern","title","required","onChange","disabled","button","filterValue","state","ContactItem","contact","isDeleting","id","tel","onClick","ContactList","contacts","setContacts","useSelector","useEffect","normalizedFilter","includes","map","Filter","useDispatch","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.696df23b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"PhonebookForm_label__2RD8B\",\"input\":\"PhonebookForm_input__Zz5ZT\",\"button\":\"PhonebookForm_button__15G-4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__31VjT\",\"input\":\"Filter_input__3MJIu\"};","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\r\n\r\nexport const contactsApi = createApi({\r\n  reducerPath: \"contactsApi\",\r\n  baseQuery: fetchBaseQuery({\r\n    baseUrl: \"https://61981ad0164fa60017c22f69.mockapi.io/api/v1\",\r\n  }),\r\n  tagTypes: [\"Contacts\"],\r\n  endpoints: (builder) => ({\r\n    getContacts: builder.query({\r\n      query: () => \"/contacts\",\r\n      providesTags: [\"Contacts\"],\r\n    }),\r\n    addContact: builder.mutation({\r\n      query: (newContact) => ({\r\n        url: \"/contacts\",\r\n        method: \"POST\",\r\n        body: newContact,\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n    deleteContact: builder.mutation({\r\n      query: (contactId) => ({\r\n        url: `/contacts/${contactId}`,\r\n        method: \"DELETE\",\r\n      }),\r\n      invalidatesTags: [\"Contacts\"],\r\n    }),\r\n  }),\r\n});\r\n\r\nexport const {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n  useDeleteContactMutation,\r\n} = contactsApi;\r\n\r\n","import { createAction } from \"@reduxjs/toolkit\";\r\n\r\nexport const changeFilter = createAction(\"contacts/changeFilter\");\r\n","import { combineReducers } from \"redux\";\r\nimport { createReducer } from \"@reduxjs/toolkit\";\r\nimport { changeFilter } from \"./contacts-actions\";\r\n\r\nconst filter = createReducer(\"\", {\r\n  [changeFilter]: (_, { payload }) => payload,\r\n});\r\n\r\nexport default combineReducers({\r\n  filter,\r\n});\r\n","import { configureStore } from \"@reduxjs/toolkit\";\r\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\r\nimport { contactsApi } from \"./contacts/contactsSlice\";\r\nimport filter from \"./contacts/contacts-reducer\";\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    [contactsApi.reducerPath]: contactsApi.reducer,\r\n    filterValue: filter,\r\n  },\r\n  middleware: (getDefaultMiddleware) =>\r\n    getDefaultMiddleware().concat(contactsApi.middleware),\r\n});\r\n\r\nsetupListeners(store.dispatch);\r\n\r\nexport default store;\r\n","import { useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { toast } from \"react-toastify\";\r\nimport s from \"./PhonebookForm.module.css\";\r\nimport {\r\n  useGetContactsQuery,\r\n  useAddContactMutation,\r\n} from \"../../redux/contacts/contactsSlice\";\r\n\r\nexport default function PhonebookForm() {\r\n  const [name, setName] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n\r\n  const { data } = useGetContactsQuery();\r\n  const [addContact, { isLoading }] = useAddContactMutation();\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    switch (name) {\r\n      case \"name\":\r\n        setName(value);\r\n        break;\r\n      case \"phone\":\r\n        setPhone(value);\r\n        break;\r\n      default:\r\n        return;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const normalizedContact = name.toLowerCase();\r\n    if (data.some((item) => item.name.toLowerCase() === normalizedContact)) {\r\n      toast.error(`${name} is already in contact list`);\r\n      return;\r\n    }\r\n    addContact({ name, phone });\r\n    toast.success(`${name} is added to the contact list!`);\r\n    resetForm();\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setName(\"\");\r\n    setPhone(\"\");\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <label className={s.label}>\r\n        Name\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n          required\r\n          onChange={handleChange}\r\n          value={name}\r\n        />\r\n      </label>\r\n      <label className={s.label}>\r\n        Phone number\r\n        <input\r\n          className={s.input}\r\n          type=\"tel\"\r\n          name=\"phone\"\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n          required\r\n          onChange={handleChange}\r\n          value={phone}\r\n        />\r\n      </label>\r\n      <button disabled={isLoading} className={s.button} type=\"submit\">\r\n        Add contact\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nPhonebookForm.propTypes = {\r\n  addContact: PropTypes.func,\r\n};\r\n","export const filterValue = (state) => state.filterValue.filter;\r\n","import React from \"react\";\r\nimport { useDeleteContactMutation } from \"../../redux/contacts/contactsSlice\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ContactItem.module.css\";\r\n\r\nexport default function ContactItem({ contact }) {\r\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\r\n\r\n  return (\r\n    <li className={s.item} id={contact.id}>\r\n      <span className={s.name}>{contact.name}</span>\r\n      <span className={s.tel}>{contact.phone}</span>\r\n      <button\r\n        className={s.button}\r\n        onClick={() => deleteContact(contact.id)}\r\n        type=\"button\"\r\n      >\r\n        {isDeleting ? \"Deleting...\" : \"Delete\"}\r\n      </button>\r\n    </li>\r\n  );\r\n}\r\n\r\nContactItem.propTypes = {\r\n  contact: PropTypes.object,\r\n  deleteContact: PropTypes.func,\r\n};\r\n","import React from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useState, useEffect } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport { filterValue } from \"../../redux/contacts/contacts-selectors\";\r\nimport { useGetContactsQuery } from \"../../redux/contacts/contactsSlice\";\r\nimport ContactItem from \"../ContactItem/ContactItem\";\r\n\r\nexport default function ContactList() {\r\n  const [contacts, setContacts] = useState([]);\r\n  const { data, error, isLoading } = useGetContactsQuery();\r\n  const value = useSelector(filterValue);\r\n\r\n  useEffect(() => {\r\n    const normalizedFilter = value.toLowerCase();\r\n    try {\r\n      setContacts(\r\n        data.filter(({ name }) => name.toLowerCase().includes(normalizedFilter))\r\n      );\r\n    } catch (error) {\r\n      return error;\r\n    }\r\n  }, [data, value]);\r\n\r\n  return (\r\n    <ul>\r\n      {contacts.map((item) => (\r\n        <ContactItem key={item.id} contact={item} />\r\n      ))}\r\n\r\n      {error && <h2>There are not any contacts in your Phonebook</h2>}\r\n      {isLoading && <h2>Loading...</h2>}\r\n    </ul>\r\n  );\r\n}\r\n\r\nContactList.propTypes = {\r\n  value: PropTypes.string,\r\n  useGetContactsQuery: PropTypes.func,\r\n};\r\n","import PropTypes from \"prop-types\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { filterValue } from \"../../redux/contacts/contacts-selectors\";\r\nimport { changeFilter } from \"../../redux/contacts/contacts-actions\";\r\nimport s from \"./Filter.module.css\";\r\n\r\nexport default function Filter() {\r\n  const value = useSelector(filterValue);\r\n  const dispatch = useDispatch();\r\n  const onChange = (e) => dispatch(changeFilter(e.target.value));\r\n\r\n  return (\r\n    <label className={s.label}>\r\n      Find contacts by name\r\n      <input\r\n        className={s.input}\r\n        type=\"text\"\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </label>\r\n  );\r\n}\r\n\r\nFilter.propTypes = {\r\n  value: PropTypes.string,\r\n  onChange: PropTypes.func,\r\n};\r\n","import \"./App.css\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"../node_modules/react-toastify/dist/ReactToastify.css\";\nimport PhonebookForm from \"./Components/PhonebookForm/PhonebookForm\";\nimport ContactList from \"./Components/ContactsList/ContactsList\";\nimport Filter from \"./Components/Filter/Filter\";\n\nexport default function App() {\n  return (\n    <div>\n      <h1>Phonebook</h1>\n      <ToastContainer />\n      <PhonebookForm />\n      <h2>Contacts</h2>\n      <Filter />\n      <ContactList />\n    </div>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport store from \"./redux/store\";\nimport { Provider } from \"react-redux\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}